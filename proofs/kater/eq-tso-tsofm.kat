include ./proofs/kater/kat/tso-fm.kat
let tso-fm = tso
let hb-fm = hb
include ./proofs/kater/kat/tso.kat


// WTP: tso == fm-tso
// From Lemma 2.1, STP that
//     irreflexive(tso+ | po;eco) <=> irreflexive(hb;fr? | tso-fm+)

let eco = (mo | rf | fr)+

assert (tso-fm+ | hb-fm;fr?) <=&id rot (tso+ | po;eco)
// assert [R|W|F];(tso+ | po;eco);[R|W|F] <=&id rot (tso-fm+ | hb-fm;fr?)
